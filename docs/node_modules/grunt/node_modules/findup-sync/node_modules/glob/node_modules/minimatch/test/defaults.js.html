<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>. documentation: node_modules/grunt/node_modules/findup-sync/node_modules/glob/node_modules/minimatch/test/defaults.js</title>
  <link rel="stylesheet" href="../../../../../../../../../pyccoon.css">
</head>
<body>
<div id='container' >
  <div id="footer">
    <span id="project-name">
        <a class="btn" href="../../../../../../../../../index.html">. documentation</a>
    </span>
    <a class="btn" class="source source-1" href="#top">Back to top</a>
    <div class="generation-time">
        Generated at
        <code>2015-10-31 20:21</code>
        by a diligent
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">
            <img id="pyccoon-icon" src="../../../../../../../../../pyccoon_icon.svg" alt="Pyccoon: side-to-side documentation generator" />pyccoon</a>
    </div>
  </div>
  <a id="top"></a>
  <div class='section'>
    <div class='docs nav'>
      <nav id="breadcrumbs">/ <a href="defaults.js.html/../../../../../../../../../../index.html">.</a> / <a href="defaults.js.html/../../../../../../../../../index.html">node_modules</a> / <a href="defaults.js.html/../../../../../../../../index.html">grunt</a> / <a href="defaults.js.html/../../../../../../../index.html">node_modules</a> / <a href="defaults.js.html/../../../../../../index.html">findup-sync</a> / <a href="defaults.js.html/../../../../../index.html">node_modules</a> / <a href="defaults.js.html/../../../../index.html">glob</a> / <a href="defaults.js.html/../../../index.html">node_modules</a> / <a href="defaults.js.html/../../index.html">minimatch</a> / <a href="defaults.js.html/../index.html">test</a> / defaults.js</nav>
      <ul id="children"></ul>
    </div>
  </div>
  <div id="everything" class='clearall'>
    <div id="background"></div>
    <div class='section'>
    <a id="section-0" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>
          <p><a href="http://www.bashcookbook.com/bashinfo/source/bash-1.14.7/tests/glob-test">http://www.bashcookbook.com/bashinfo/source/bash-1.14.7/tests/glob-test</a></p>
<p><span class=todo><strong>TODO</strong>: Some of these tests do very bad things with backslashes, and will</span>
most likely fail badly on windows.  They should probably be skipped.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="kd">var</span> <span class="nx">tap</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;tap&quot;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">globalBefore</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">global</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">mm</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;../&quot;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span>
            <span class="p">,</span> <span class="s2">&quot;abd&quot;</span><span class="p">,</span> <span class="s2">&quot;abe&quot;</span><span class="p">,</span> <span class="s2">&quot;bb&quot;</span><span class="p">,</span> <span class="s2">&quot;bcd&quot;</span>
            <span class="p">,</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span>
            <span class="p">,</span> <span class="s2">&quot;bdir/&quot;</span><span class="p">,</span> <span class="s2">&quot;bdir/cfile&quot;</span><span class="p">]</span>
  <span class="p">,</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">files</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span> <span class="s2">&quot;a-b&quot;</span><span class="p">,</span> <span class="s2">&quot;aXb&quot;</span>
                        <span class="p">,</span> <span class="s2">&quot;.x&quot;</span><span class="p">,</span> <span class="s2">&quot;.y&quot;</span> <span class="p">])</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-1" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-1'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="nx">tap</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;basic tests&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-2" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-2'>#</a>
          </div>
          <p>[ pattern, [matches], MM opts, files, TAP opts]</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>  <span class="p">;</span> <span class="p">[</span> <span class="s2">&quot;http://www.bashcookbook.com/bashinfo&quot;</span> <span class="o">+</span>
      <span class="s2">&quot;/source/bash-1.14.7/tests/glob-test&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;abd&quot;</span><span class="p">,</span> <span class="s2">&quot;abe&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;X*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;X*&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-3" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-3'>#</a>
          </div>
          <p>allow null glob expansion</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;X*&quot;</span><span class="p">,</span> <span class="p">[]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-4" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-4'>#</a>
          </div>
          <p>isaacs: Slightly different than bash/sh/ksh
\<em> is not un-escaped to literal "</em>" in a failed match,
but it does make it get treated as a literal star</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\*&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\**&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\**&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\*\\*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\*\\*&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>

    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;b*/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;bdir/&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;c*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="nx">files</span><span class="p">]</span>

    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\.\\./*/&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\.\\./*/&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;s/\\..*//&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;s/\\..*//&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>

    <span class="p">,</span> <span class="s2">&quot;legendary larry crashes bashes&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\\1/&quot;</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\\1/&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\1/&quot;</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/^root:/{s/^[^:]*:[^:]*:\([^:]*\).*$/\1/&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>

    <span class="p">,</span> <span class="s2">&quot;character classes&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[a-c]b*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;abd&quot;</span><span class="p">,</span> <span class="s2">&quot;abe&quot;</span><span class="p">,</span> <span class="s2">&quot;bb&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[a-y]*[^c]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abd&quot;</span><span class="p">,</span> <span class="s2">&quot;abe&quot;</span><span class="p">,</span> <span class="s2">&quot;bb&quot;</span><span class="p">,</span> <span class="s2">&quot;bcd&quot;</span><span class="p">,</span>
       <span class="s2">&quot;bdir/&quot;</span><span class="p">,</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*[^c]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abd&quot;</span><span class="p">,</span> <span class="s2">&quot;abe&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-5" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-5'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">files</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;a-b&quot;</span><span class="p">,</span> <span class="s2">&quot;aXb&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a[X-]b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a-b&quot;</span><span class="p">,</span> <span class="s2">&quot;aXb&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-6" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-6'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">files</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;.x&quot;</span><span class="p">,</span> <span class="s2">&quot;.y&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[^a-c]*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-7" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-7'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">files</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;a*b/&quot;</span><span class="p">,</span> <span class="s2">&quot;a*b/ooo&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a\\*b/*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*b/ooo&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a\\*?/*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*b/ooo&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*\\\\!*&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span><span class="kc">null</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">[</span><span class="s2">&quot;echo !7&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*\\!*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;echo !7&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;echo !7&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*.\\*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;r.*&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;r.*&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a[b]c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a[\\b]c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a?c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a\\*c&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span><span class="kc">null</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]]</span>

    <span class="p">,</span> <span class="s2">&quot;http://www.opensource.apple.com/source/bash/bash-23/&quot;</span> <span class="o">+</span>
      <span class="s2">&quot;bash/tests/glob-test&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-8" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-8'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">files</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;man/&quot;</span><span class="p">,</span> <span class="s2">&quot;man/man1/&quot;</span><span class="p">,</span> <span class="s2">&quot;man/man1/bash.1&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*/man*/bash.*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;man/man1/bash.1&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;man/man1/bash.1&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;man/man1/bash.1&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a***c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*****?c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?*****??&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*****??&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?*****?c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?***?****c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?***?****?&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?***?****&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*******c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*******?&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*cd**?**??k&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a**?**cd**?**??k&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a**?**cd**?**??k***&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a**?**cd**?**??***k&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a**?**cd**?**??***k**&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a****c**?**??*****&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;abcdecdhjk&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[-abc]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[abc-]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[\\\\]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[[]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[abc&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="s2">&quot;a right bracket shall lose its special meaning and\n&quot;</span> <span class="o">+</span>
      <span class="s2">&quot;represent itself in a bracket expression if it occurs\n&quot;</span> <span class="o">+</span>
      <span class="s2">&quot;first in the list.  -- POSIX.2 2.8.3.2&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[]]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;]&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;]&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[]-]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;]&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;]&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[a-\z]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">],</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;??**********?****?&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;??**********?****c&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;?************c****?****&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*c*?**&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a*****c*?**&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a********???*******&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[]&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[abc&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">]]</span>

    <span class="p">,</span> <span class="s2">&quot;nocase tests&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;XYZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;xYz&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">nocase</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;xYz&quot;</span><span class="p">,</span> <span class="s2">&quot;ABC&quot;</span><span class="p">,</span> <span class="s2">&quot;IjK&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;ab*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;ABC&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">nocase</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;xYz&quot;</span><span class="p">,</span> <span class="s2">&quot;ABC&quot;</span><span class="p">,</span> <span class="s2">&quot;IjK&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[ia]?[ck]&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;ABC&quot;</span><span class="p">,</span> <span class="s2">&quot;IjK&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">nocase</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">null</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;xYz&quot;</span><span class="p">,</span> <span class="s2">&quot;ABC&quot;</span><span class="p">,</span> <span class="s2">&quot;IjK&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-9" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-9'>#</a>
          </div>
          <p>[ pattern, [matches], MM opts, files, TAP opts]</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="s2">&quot;onestar/twostar&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;{/*,*}&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{</span><span class="kc">null</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">[</span><span class="s2">&quot;/asdf/asdf/asdf&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;{/?,*}&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/a&quot;</span><span class="p">,</span> <span class="s2">&quot;bb&quot;</span><span class="p">],</span> <span class="p">{</span><span class="kc">null</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/a&quot;</span><span class="p">,</span> <span class="s2">&quot;/b/b&quot;</span><span class="p">,</span> <span class="s2">&quot;/a/b/c&quot;</span><span class="p">,</span> <span class="s2">&quot;bb&quot;</span><span class="p">]]</span>

    <span class="p">,</span> <span class="s2">&quot;dots should not match unless requested&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">],</span> <span class="p">{},</span> <span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d&quot;</span><span class="p">,</span> <span class="s2">&quot;.a/.d&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-10" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-10'>#</a>
          </div>
          <p>.. and . can only match patterns starting with .,
even when options.dot is set.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a/./b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/../b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/c/b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d/b&quot;</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/*/b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/c/b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d/b&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/.*/b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/./b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/../b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d/b&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/*/b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/c/b&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">dot</span><span class="o">:</span><span class="kc">false</span><span class="p">}]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/.*/b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/./b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/../b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d/b&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">dot</span><span class="o">:</span> <span class="kc">false</span><span class="p">}]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-11" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-11'>#</a>
          </div>
          <p>this also tests that changing the options needs
to change the cache key, even if the pattern is
the same!</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">,</span><span class="s2">&quot;a/.d&quot;</span><span class="p">,</span><span class="s2">&quot;.a/.d&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">dot</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span> <span class="s2">&quot;.a/.d&quot;</span><span class="p">,</span> <span class="s2">&quot;a/.d&quot;</span><span class="p">,</span> <span class="s2">&quot;a/b&quot;</span><span class="p">]]</span>

    <span class="p">,</span> <span class="s2">&quot;paren sets cannot contain slashes&quot;</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*(a/b)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*(a/b)&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonull</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-12" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-12'>#</a>
          </div>
          <p>brace sets trump all else.</p>
<p>invalid glob pattern.  fails on bash4 and bsdglob.
however, in this implementation, it's easier just
to do the intuitive thing, and let brace-expansion
actually come before parsing any extglob patterns,
like the documentation seems to say.</p>
<p>XXX: if anyone complains about this, either fix it
or tell them to grow up and stop complaining.</p>
<p>bash/bsdglob says this:
, ["<em>(a|{b),c)}", ["</em>(a|{b),c)}"], {}, ["a", "ab", "ac", "ad"]]
but we do this instead:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*(a|{b),c)}&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">],</span> <span class="p">{},</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">,</span> <span class="s2">&quot;ad&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-13" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-13'>#</a>
          </div>
          <p>test partial parsing in the presence of comment/negation chars</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[!a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[!ab&quot;</span><span class="p">],</span> <span class="p">{},</span> <span class="p">[</span><span class="s2">&quot;[!ab&quot;</span><span class="p">,</span> <span class="s2">&quot;[ab&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[#a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;[#ab&quot;</span><span class="p">],</span> <span class="p">{},</span> <span class="p">[</span><span class="s2">&quot;[#ab&quot;</span><span class="p">,</span> <span class="s2">&quot;[ab&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-14" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-14'>#</a>
          </div>
          <p>like: {a,b|c\,d\\|e} except it's unclosed, so it has to be escaped.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;+(a|*\\|c\\\\|d\\\\\\|e\\\\\\\\|f\\\\\\\\\\|g&quot;</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;+(a|b\\|c\\\\|d\\\\|e\\\\\\\\|f\\\\\\\\|g&quot;</span><span class="p">]</span>
      <span class="p">,</span> <span class="p">{}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;+(a|b\\|c\\\\|d\\\\|e\\\\\\\\|f\\\\\\\\|g&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b\\c&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-15" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-15'>#</a>
          </div>
          <p>crazy nested {,,} and *(||) tests.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">,</span> <span class="s2">&quot;ad&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;bc&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;bc,d&quot;</span><span class="p">,</span> <span class="s2">&quot;c,db&quot;</span><span class="p">,</span> <span class="s2">&quot;c,d&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;d)&quot;</span><span class="p">,</span> <span class="s2">&quot;(b|c&quot;</span><span class="p">,</span> <span class="s2">&quot;*(b|c&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;b|c&quot;</span><span class="p">,</span> <span class="s2">&quot;b|cc&quot;</span><span class="p">,</span> <span class="s2">&quot;cb|c&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;x(a|b|c)&quot;</span><span class="p">,</span> <span class="s2">&quot;x(a|c)&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;(a|b|c)&quot;</span><span class="p">,</span> <span class="s2">&quot;(a|c)&quot;</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*(a|{b,c})&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;{a,*(b|c,d)}&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;(b|c&quot;</span><span class="p">,</span> <span class="s2">&quot;*(b|c&quot;</span><span class="p">,</span> <span class="s2">&quot;d)&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-16" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-16'>#</a>
          </div>
          <p>a
(b|c)
(b|d)</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;{a,*(b|{c,d})}&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;bc&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*(a|{b|c,c})&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;ac&quot;</span><span class="p">,</span> <span class="s2">&quot;bc&quot;</span><span class="p">,</span> <span class="s2">&quot;cb&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-17" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-17'>#</a>
          </div>
          <p>test various flag settings.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span> <span class="s2">&quot;*(a|{b|c,c})&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;x(a|b|c)&quot;</span><span class="p">,</span> <span class="s2">&quot;x(a|c)&quot;</span><span class="p">,</span> <span class="s2">&quot;(a|b|c)&quot;</span><span class="p">,</span> <span class="s2">&quot;(a|c)&quot;</span><span class="p">]</span>
      <span class="p">,</span> <span class="p">{</span> <span class="nx">noext</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a?b&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;x/y/acb&quot;</span><span class="p">,</span> <span class="s2">&quot;acb/&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">matchBase</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
      <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;x/y/acb&quot;</span><span class="p">,</span> <span class="s2">&quot;acb/&quot;</span><span class="p">,</span> <span class="s2">&quot;acb/d/e&quot;</span><span class="p">,</span> <span class="s2">&quot;x/y/acb/d&quot;</span><span class="p">]</span> <span class="p">]</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;#*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;#a&quot;</span><span class="p">,</span> <span class="s2">&quot;#b&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nocomment</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">[</span><span class="s2">&quot;#a&quot;</span><span class="p">,</span> <span class="s2">&quot;#b&quot;</span><span class="p">,</span> <span class="s2">&quot;c#d&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-18" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-18'>#</a>
          </div>
          <p>begin channelling Boole and deMorgan...</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="s2">&quot;negation tests&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-19" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-19'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;!ab&quot;</span><span class="p">,</span> <span class="s2">&quot;!abc&quot;</span><span class="p">,</span> <span class="s2">&quot;a!b&quot;</span><span class="p">,</span> <span class="s2">&quot;\\!a&quot;</span><span class="p">]</span>
      <span class="p">}</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-20" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-20'>#</a>
          </div>
          <p>anything that is NOT a* matches.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;!a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;\\!a&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;!ab&quot;</span><span class="p">,</span> <span class="s2">&quot;!abc&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-21" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-21'>#</a>
          </div>
          <p>anything that IS !a* matches.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;!a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;!ab&quot;</span><span class="p">,</span> <span class="s2">&quot;!abc&quot;</span><span class="p">],</span> <span class="p">{</span><span class="nx">nonegate</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-22" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-22'>#</a>
          </div>
          <p>anything that IS a* matches</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;!!a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a!b&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-23" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-23'>#</a>
          </div>
          <p>anything that is NOT !a* matches</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;!\\!a*&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a!b&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;\\!a&quot;</span><span class="p">]]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-24" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-24'>#</a>
          </div>
          <p>negation nestled within a pattern</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">files</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;foo.js&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;foo.bar&quot;</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-25" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-25'>#</a>
          </div>
          <p>can't match this one without negative lookbehind.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>                <span class="p">,</span> <span class="s2">&quot;foo.js.js&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;blar.js&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;foo.&quot;</span>
                <span class="p">,</span> <span class="s2">&quot;boo.js.boo&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">,</span> <span class="p">[</span><span class="s2">&quot;*.!(js)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;foo.bar&quot;</span><span class="p">,</span> <span class="s2">&quot;foo.&quot;</span><span class="p">,</span> <span class="s2">&quot;boo.js.boo&quot;</span><span class="p">]</span> <span class="p">]</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-26" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-26'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="nx">c</span><span class="p">()</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">comment</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>

      <span class="kd">var</span> <span class="nx">pattern</span> <span class="o">=</span> <span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">,</span> <span class="nx">expect</span> <span class="o">=</span> <span class="nx">c</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">sort</span><span class="p">(</span><span class="nx">alpha</span><span class="p">)</span>
        <span class="p">,</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="p">,</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">||</span> <span class="nx">files</span>
        <span class="p">,</span> <span class="nx">tapOpts</span> <span class="o">=</span> <span class="nx">c</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">||</span> <span class="p">{}</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-27" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-27'>#</a>
          </div>
          <p>options.debug = true</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>      <span class="kd">var</span> <span class="nx">Class</span> <span class="o">=</span> <span class="nx">mm</span><span class="p">.</span><span class="nx">defaults</span><span class="p">(</span><span class="nx">options</span><span class="p">).</span><span class="nx">Minimatch</span>
      <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Class</span><span class="p">(</span><span class="nx">pattern</span><span class="p">,</span> <span class="p">{})</span>
      <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">makeRe</span><span class="p">()</span>
      <span class="nx">tapOpts</span><span class="p">.</span><span class="nx">re</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="o">||</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span>
      <span class="nx">tapOpts</span><span class="p">.</span><span class="nx">files</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span>
      <span class="nx">tapOpts</span><span class="p">.</span><span class="nx">pattern</span> <span class="o">=</span> <span class="nx">pattern</span>
      <span class="nx">tapOpts</span><span class="p">.</span><span class="nx">set</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">set</span>
      <span class="nx">tapOpts</span><span class="p">.</span><span class="nx">negated</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">negate</span>

      <span class="kd">var</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">mm</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="nx">pattern</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
      <span class="nx">actual</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">alpha</span><span class="p">)</span>

      <span class="nx">t</span><span class="p">.</span><span class="nx">equivalent</span><span class="p">(</span> <span class="nx">actual</span><span class="p">,</span> <span class="nx">expect</span>
                  <span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">pattern</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">expect</span><span class="p">)</span>
                  <span class="p">,</span> <span class="nx">tapOpts</span> <span class="p">)</span>
    <span class="p">})</span>

  <span class="nx">t</span><span class="p">.</span><span class="nx">comment</span><span class="p">(</span><span class="s2">&quot;time=&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">start</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;ms&quot;</span><span class="p">)</span>
  <span class="nx">t</span><span class="p">.</span><span class="nx">end</span><span class="p">()</span>
<span class="p">})</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
    <div class='section'>
    <a id="section-28" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-28'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="nx">tap</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;global leak test&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">globalAfter</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">global</span><span class="p">)</span>
  <span class="nx">t</span><span class="p">.</span><span class="nx">equivalent</span><span class="p">(</span><span class="nx">globalAfter</span><span class="p">,</span> <span class="nx">globalBefore</span><span class="p">,</span> <span class="s2">&quot;no new globals, please&quot;</span><span class="p">)</span>
  <span class="nx">t</span><span class="p">.</span><span class="nx">end</span><span class="p">()</span>
<span class="p">})</span>

<span class="kd">function</span> <span class="nx">alpha</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">}</span>

</pre></div>
        </div>
        <div class='clearall'></div>
    </section>
    </div>
  </div>
</body>
