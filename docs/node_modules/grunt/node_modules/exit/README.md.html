<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>. documentation: node_modules/grunt/node_modules/exit/README.md</title>
  <link rel="stylesheet" href="../../../../pyccoon.css">
</head>
<body>
<div id='container' class="documentation">
  <div id="footer">
    <span id="project-name">
        <a class="btn" href="../../../../index.html">. documentation</a>
    </span>
    <a class="btn" class="source source-1" href="#top">Back to top</a>
    <div id="jump_to" class="btn">
    Contents
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source source-1" href="#exit-&lt;a href=&quot;http://travis-ci.org/cowboy/node-exit&quot;&gt;klzzwxh:0002&lt;/a&gt;&quot;&gt; exit &lt;a href=&quot;http://travis-ci.org/cowboy/node-exit&quot;&gt;&lt;img alt=&quot;Build Status&quot; src=&quot;https://secure.travis-ci.org/cowboy/node-exit.png?branch=master"><a id="exit-klzzwxh:0000" class="header-anchor" href="#exit-klzzwxh:0002"> exit </a>
          <a class="source source-2" href="#getting-started"> Getting Started</a>
          <a class="source source-2" href="#don't-believe-me?-try-it-for-yourself."> Don't believe me? Try it for yourself.</a>
          <a class="source source-2" href="#contributing"> Contributing</a>
          <a class="source source-2" href="#release-history"> Release History</a>
          <a class="source source-2" href="#license"> License</a>
      </div>
    </div>
    </div>
    <div class="generation-time">
        Generated at
        <code>2015-10-31 20:21</code>
        by a diligent
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">
            <img id="pyccoon-icon" src="../../../../pyccoon_icon.svg" alt="Pyccoon: side-to-side documentation generator" />pyccoon</a>
    </div>
  </div>
  <a id="top"></a>
  <div class='section'>
    <div class='docs nav'>
      <nav id="breadcrumbs">/ <a href="README.md.html/../../../../../index.html">.</a> / <a href="README.md.html/../../../../index.html">node_modules</a> / <a href="README.md.html/../../../index.html">grunt</a> / <a href="README.md.html/../../index.html">node_modules</a> / <a href="README.md.html/../index.html">exit</a> / README.md</nav>
      <ul id="children"></ul>
    </div>
  </div>
  <div id="everything" class='clearall'>
    <div id="background"></div>
    <div class='section'>
    <a id="section-0" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>
          <h1><a id="exit-<a href="http://travis-ci.org/cowboy/node-exit">klzzwxh:0000</a>" class="header-anchor" href="#exit-<a href="http://travis-ci.org/cowboy/node-exit">klzzwxh:0002</a>"> exit <a href="http://travis-ci.org/cowboy/node-exit"><img alt="Build Status" src="https://secure.travis-ci.org/cowboy/node-exit.png?branch=master" /></a></a></h1>
<p>A replacement for process.exit that ensures stdio are fully drained before exiting.</p>
<p>To make a long story short, if <code>process.exit</code> is called on Windows, script output is often truncated when pipe-redirecting <code>stdout</code> or <code>stderr</code>. This module attempts to work around this issue by waiting until those streams have been completely drained before actually calling <code>process.exit</code>.</p>
<p>See <a href="https://github.com/joyent/node/issues/3584">Node.js issue #3584</a> for further reference.</p>
<p>Tested in OS X 10.8, Windows 7 on Node.js 0.8.25 and 0.10.18.</p>
<p>Based on some code by <a href="https://github.com/vladikoff">@vladikoff</a>.</p>
<h2><a id="getting-started" class="header-anchor" href="#getting-started"> Getting Started</a></h2>
<p>Install the module with: <code>npm install exit</code></p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">exit</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;exit&#39;</span><span class="p">);</span>

<span class="c1">// These lines should appear in the output, EVEN ON WINDOWS.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;omg&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;yay&quot;</span><span class="p">);</span>

<span class="c1">// process.exit(5);</span>
<span class="nx">exit</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="c1">// These lines shouldn&#39;t appear in the output.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;wtf&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;bro&quot;</span><span class="p">);</span>
</pre></div>


<h2><a id="don't-believe-me?-try-it-for-yourself." class="header-anchor" href="#don't-believe-me?-try-it-for-yourself."> Don't believe me? Try it for yourself.</a></h2>
<p>In Windows, clone the repo and cd to the <code>test\fixtures</code> directory. The only difference between <a href="test/fixtures/log.js">log.js</a> and <a href="test/fixtures/log-broken.js">log-broken.js</a> is that the former uses <code>exit</code> while the latter calls <code>process.exit</code> directly.</p>
<p>This test was done using cmd.exe, but you can see the same results using <code>| grep "std"</code> in either PowerShell or git-bash.</p>
<div class="codehilite"><pre>C:\node-exit\test\fixtures&gt;node log.js 0 10 stdout stderr 2&gt;&amp;1 | find &quot;std&quot;
stdout 0
stderr 0
stdout 1
stderr 1
stdout 2
stderr 2
stdout 3
stderr 3
stdout 4
stderr 4
stdout 5
stderr 5
stdout 6
stderr 6
stdout 7
stderr 7
stdout 8
stderr 8
stdout 9
stderr 9

C:\node-exit\test\fixtures&gt;node log-broken.js 0 10 stdout stderr 2&gt;&amp;1 | find &quot;std&quot;

C:\node-exit\test\fixtures&gt;
</pre></div>


<h2><a id="contributing" class="header-anchor" href="#contributing"> Contributing</a></h2>
<p>In lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using <a href="http://gruntjs.com/">Grunt</a>.</p>
<h2><a id="release-history" class="header-anchor" href="#release-history"> Release History</a></h2>
<p>2013-11-26 - v0.1.2 - Fixed a bug with hanging processes.<br />
2013-09-26 - v0.1.1 - Fixed some bugs. It seems to actually work now!<br />
2013-09-20 - v0.1.0 - Initial release.</p>
<h2><a id="license" class="header-anchor" href="#license"> License</a></h2>
<p>Copyright (c) 2013 "Cowboy" Ben Alman<br />
Licensed under the MIT license.</p>
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
    </div>
  </div>
</body>
