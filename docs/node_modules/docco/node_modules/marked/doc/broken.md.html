<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>. documentation: node_modules/docco/node_modules/marked/doc/broken.md</title>
  <link rel="stylesheet" href="../../../../../pyccoon.css">
</head>
<body>
<div id='container' class="documentation">
  <div id="footer">
    <span id="project-name">
        <a class="btn" href="../../../../../index.html">. documentation</a>
    </span>
    <a class="btn" class="source source-1" href="#top">Back to top</a>
    <div id="jump_to" class="btn">
    Contents
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source source-1" href="#markdown-is-broken"> Markdown is broken</a>
          <a class="source source-2" href="#examples-of-markdown's-&quot;stupid&quot;-list-parsing&quot;&gt; Examples of markdown's &quot;stupid"> Examples of markdown's "stupid" list parsing</a>
          <a class="source source-1" href="#why-quality-matters---part-2"> Why quality matters - Part 2</a>
      </div>
    </div>
    </div>
    <div class="generation-time">
        Generated at
        <code>2015-10-31 20:19</code>
        by a diligent
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">
            <img id="pyccoon-icon" src="../../../../../pyccoon_icon.svg" alt="Pyccoon: side-to-side documentation generator" />pyccoon</a>
    </div>
  </div>
  <a id="top"></a>
  <div class='section'>
    <div class='docs nav'>
      <nav id="breadcrumbs">/ <a href="broken.md.html/../../../../../../index.html">.</a> / <a href="broken.md.html/../../../../../index.html">node_modules</a> / <a href="broken.md.html/../../../../index.html">docco</a> / <a href="broken.md.html/../../../index.html">node_modules</a> / <a href="broken.md.html/../../index.html">marked</a> / <a href="broken.md.html/../index.html">doc</a> / broken.md</nav>
      <ul id="children"></ul>
    </div>
  </div>
  <div id="everything" class='clearall'>
    <div id="background"></div>
    <div class='section'>
    <a id="section-0" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>
          <h1><a id="markdown-is-broken" class="header-anchor" href="#markdown-is-broken"> Markdown is broken</a></h1>
<p>I have a lot of scraps of markdown engine oddities that I've collected over the
years. What you see below is slightly messy, but it's what I've managed to
cobble together to illustrate the differences between markdown engines, and
why, if there ever is a markdown specification, it has to be absolutely
thorough. There are a lot more of these little differences I have documented
elsewhere. I know I will find them lingering on my disk one day, but until
then, I'll continue to add whatever strange nonsensical things I find.</p>
<p>Some of these examples may only mention a particular engine compared to marked.
However, the examples with markdown.pl could easily be swapped out for
discount, upskirt, or markdown.js, and you would very easily see even more
inconsistencies.</p>
<p>A lot of this was written when I was very unsatisfied with the inconsistencies
between markdown engines. Please excuse the frustration noticeable in my
writing.</p>
<h2><a id="examples-of-markdown's-"stupid"-list-parsing" class="header-anchor" href="#examples-of-markdown's-"stupid"-list-parsing"> Examples of markdown's "stupid" list parsing</a></h2>
<div class="codehilite"><pre>$ markdown.pl

  * item1

    * item2

  text
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;&lt;p&gt;</span>item1<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>item2<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>

<span class="nt">&lt;p&gt;&lt;p&gt;</span>text<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/p&gt;</span>
</pre></div>


<div class="codehilite"><pre>$ marked
  * item1

    * item2

  text
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;&lt;p&gt;</span>item1<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>item2<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;p&gt;</span>text<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>Which looks correct to you?</p>
<hr />
<div class="codehilite"><pre>$ markdown.pl
* hello
  &gt; world
^D
<span class="nt">&lt;p&gt;&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;blockquote&gt;</span>
  <span class="nt">&lt;p&gt;</span>world<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/blockquote&gt;</span>
</pre></div>


<div class="codehilite"><pre>$ marked
* hello
  &gt; world
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello<span class="nt">&lt;blockquote&gt;</span>
<span class="nt">&lt;p&gt;</span>world<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/blockquote&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>Again, which looks correct to you?</p>
<hr />
<p>EXAMPLE:</p>
<div class="codehilite"><pre>$ markdown.pl
* hello
  * world
    * hi
          code
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>world<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>hi
  code<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>The code isn't a code block even though it's after the bullet margin. I know,
lets give it two more spaces, effectively making it 8 spaces past the bullet.</p>
<div class="codehilite"><pre>$ markdown.pl
* hello
  * world
    * hi
            code
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>world<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>hi
    code<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>And, it's still not a code block. Did you also notice that the 3rd item isn't
even its own list? Markdown screws that up too because of its indentation
unaware parsing.</p>
<hr />
<p>Let's look at some more examples of markdown's list parsing:</p>
<div class="codehilite"><pre>$ markdown.pl

  * item1

    * item2

  text
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;&lt;p&gt;</span>item1<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>item2<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>

<span class="nt">&lt;p&gt;&lt;p&gt;</span>text<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/p&gt;</span>
</pre></div>


<p>Misnested tags.</p>
<div class="codehilite"><pre>$ marked
  * item1

    * item2

  text
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;&lt;p&gt;</span>item1<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>item2<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;p&gt;</span>text<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>Which looks correct to you?</p>
<hr />
<div class="codehilite"><pre>$ markdown.pl
* hello
  &gt; world
^D
<span class="nt">&lt;p&gt;&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;blockquote&gt;</span>
  <span class="nt">&lt;p&gt;</span>world<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/blockquote&gt;</span>
</pre></div>


<p>More misnested tags.</p>
<div class="codehilite"><pre>$ marked
* hello
  &gt; world
^D
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;li&gt;</span>hello<span class="nt">&lt;blockquote&gt;</span>
<span class="nt">&lt;p&gt;</span>world<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/blockquote&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>


<p>Again, which looks correct to you?</p>
<hr />
<h1><a id="why-quality-matters---part-2" class="header-anchor" href="#why-quality-matters---part-2"> Why quality matters - Part 2</a></h1>
<div class="codehilite"><pre><span class="nv">$ </span>markdown.pl
* hello
  &gt; world
^D
&lt;p&gt;&lt;ul&gt;
&lt;li&gt;hello&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;world&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>sundown <span class="c"># upskirt</span>
* hello
  &gt; world
^D
&lt;ul&gt;
&lt;li&gt;hello
<span class="p">&amp;</span>gt<span class="p">;</span> world&lt;/li&gt;
&lt;/ul&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
* hello
  &gt; world
^D
&lt;ul&gt;&lt;li&gt;hello &lt;blockquote&gt;&lt;p&gt;world&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;&lt;/ul&gt;
</pre></div>


<p>Which looks correct to you?</p>
<hr />
<p>See: <a href="https://github.com/evilstreak/markdown-js/issues/23">https://github.com/evilstreak/markdown-js/issues/23</a></p>
<div class="codehilite"><pre><span class="nv">$ </span>markdown.pl <span class="c"># upskirt/markdown.js/discount</span>
* hello
      var <span class="nv">a</span> <span class="o">=</span> 1<span class="p">;</span>
* world
^D
&lt;ul&gt;
&lt;li&gt;hello
var <span class="nv">a</span> <span class="o">=</span> 1<span class="p">;</span>&lt;/li&gt;
&lt;li&gt;world&lt;/li&gt;
&lt;/ul&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
* hello
      var <span class="nv">a</span> <span class="o">=</span> 1<span class="p">;</span>
* world
^D
&lt;ul&gt;&lt;li&gt;hello
&lt;pre&gt;code&gt;var <span class="nv">a</span> <span class="o">=</span> 1<span class="p">;</span>&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;world&lt;/li&gt;&lt;/ul&gt;
</pre></div>


<p>Which looks more reasonable? Why shouldn't code blocks be able to appear in
list items in a sane way?</p>
<hr />
<div class="codehilite"><pre><span class="nv">$ </span>markdown.js
&lt;div&gt;hello&lt;/div&gt;

&lt;span&gt;hello&lt;/span&gt;
^D
&lt;p&gt;<span class="p">&amp;</span>lt<span class="p">;</span>div<span class="p">&amp;</span>gt<span class="p">;</span>hello<span class="p">&amp;</span>lt<span class="p">;</span>/div<span class="p">&amp;</span>gt<span class="p">;</span>&lt;/p&gt;

&lt;p&gt;<span class="p">&amp;</span>lt<span class="p">;</span>span<span class="p">&amp;</span>gt<span class="p">;</span>hello<span class="p">&amp;</span>lt<span class="p">;</span>/span<span class="p">&amp;</span>gt<span class="p">;</span>&lt;/p&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
&lt;div&gt;hello&lt;/div&gt;

&lt;span&gt;hello&lt;/span&gt;
^D
&lt;div&gt;hello&lt;/div&gt;


&lt;p&gt;&lt;span&gt;hello&lt;/span&gt;
&lt;/p&gt;
</pre></div>


<hr />
<p>See: <a href="https://github.com/evilstreak/markdown-js/issues/27">https://github.com/evilstreak/markdown-js/issues/27</a></p>
<div class="codehilite"><pre><span class="nv">$ </span>markdown.js
<span class="o">[</span>!<span class="o">[</span>an image<span class="o">](</span>/image<span class="o">)](</span>/link<span class="o">)</span>
^D
&lt;p&gt;&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;/image)](/link&quot;</span>&gt;!<span class="o">[</span>an image&lt;/a&gt;&lt;/p&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
<span class="o">[</span>!<span class="o">[</span>an image<span class="o">](</span>/image<span class="o">)](</span>/link<span class="o">)</span>
^D
&lt;p&gt;&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;/link&quot;</span>&gt;&lt;img <span class="nv">src</span><span class="o">=</span><span class="s2">&quot;/image&quot;</span> <span class="nv">alt</span><span class="o">=</span><span class="s2">&quot;an image&quot;</span>&gt;&lt;/a&gt;
&lt;/p&gt;
</pre></div>


<hr />
<p>See: <a href="https://github.com/evilstreak/markdown-js/issues/24">https://github.com/evilstreak/markdown-js/issues/24</a></p>
<div class="codehilite"><pre><span class="nv">$ </span>markdown.js
&gt; a

&gt; b

&gt; c
^D
&lt;blockquote&gt;&lt;p&gt;a&lt;/p&gt;&lt;p&gt;bundefined<span class="p">&amp;</span>gt<span class="p">;</span> c&lt;/p&gt;&lt;/blockquote&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
&gt; a

&gt; b

&gt; c
^D
&lt;blockquote&gt;&lt;p&gt;a

&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;b

&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;c
&lt;/p&gt;&lt;/blockquote&gt;
</pre></div>


<hr />
<div class="codehilite"><pre><span class="nv">$ </span>markdown.pl
* hello
  * world
    how

    are
    you

  * today
* hi
^D
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;hello&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;world
how&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;are
you&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;today&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;hi&lt;/li&gt;
&lt;/ul&gt;
</pre></div>


<div class="codehilite"><pre><span class="nv">$ </span>marked
* hello
  * world
    how

    are
    you

  * today
* hi
^D
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;hello&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;world
how&lt;/p&gt;
&lt;p&gt;are
you&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;today&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;hi&lt;/li&gt;
&lt;/ul&gt;
</pre></div>
        </div>
        <div class='code'>
          
        </div>
        <div class='clearall'></div>
    </section>
    </div>
  </div>
</body>
